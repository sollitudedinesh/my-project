<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
<div class="container py-5 w">


  <form class="p-md-5 border rounded-3 bg-body-tertiary" action="/updateDetails" method="POST">

    <!-- Name input -->

    <div class="form-floating mb-3">

      <input type="text" id="name" name="name" class="form-control" />
      <input type="hidden" id="user_id" name="user_id" class="form-control" />

      <label class="form-label" for="name">Name</label>

    </div>



    <!-- Email input -->

    <div class="form-floating mb-3">

      <input type="email" id="email" name="email" class="form-control" />

      <label class="form-label" for="form4Example2">Email address</label>

    </div>



    <!-- Message input -->

    <div class="form-floating mb-3">

      <input type="text" class="form-control" id="password" name="password">

      <label class="form-label" for="password">Password</label>

    </div>  
    <!-- Submit button -->

    <button type="submit" class="w-100 btn btn-lg btn-primary">Update</button>

  </form>


</div>

<script>
  const id = window.location.pathname.split("/").pop();

  const api = `http://localhost:8000/api/v1/fetchDetails/${id}`;

  getapi(api);

  async function getapi(url){
    const response = await fetch(url);
    const data = await response.json();
    fetchData(data);
  }

  function fetchData(data){
    document.getElementById('name').value = data[0].name;
    document.getElementById('email').value = data[0].email;
    document.getElementById('password').value = data[0].password;
    document.getElementById('user_id').value = data[0].id;
  }

</script>